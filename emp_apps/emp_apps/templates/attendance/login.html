{% extends 'base.html' %}

{% block title %}Login - TechCorp Employee System{% endblock %}

{% block extra_css %}
<style>
    .login-container {
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        margin: -2rem -15px;
        padding: 2rem 15px;
    }
    
    .login-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: none;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }
    
    .time-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        border: none;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    
    .form-control {
        border-radius: 10px;
        border: 2px solid #e1e5e9;
        padding: 12px 15px;
        transition: all 0.3s ease;
    }
    
    .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    }
    
    .btn-login {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 10px;
        padding: 12px;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .btn-login:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
    }
    
    .company-logo {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .time-display {
        font-size: 1.5rem;
        font-weight: bold;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .date-display {
        font-size: 1rem;
        color: #6c757d;
        margin-bottom: 0.5rem;
    }
    
    .floating-shapes {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
        pointer-events: none;
    }
    
    .shape {
        position: absolute;
        opacity: 0.08;
        animation: float 8s ease-in-out infinite;
        font-size: 3rem;
        color: rgba(255, 255, 255, 0.3);
    }
    
    .shape:nth-child(1) {
        top: 15%;
        left: 10%;
        animation-delay: 0s;
        animation-duration: 6s;
    }
    
    .shape:nth-child(2) {
        top: 25%;
        right: 15%;
        animation-delay: 2s;
        animation-duration: 8s;
    }
    
    .shape:nth-child(3) {
        bottom: 25%;
        left: 20%;
        animation-delay: 4s;
        animation-duration: 7s;
    }
    
    @keyframes float {
        0%, 100% { 
            transform: translateY(0px) rotate(0deg); 
        }
        50% { 
            transform: translateY(-15px) rotate(5deg); 
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- 
CUSTOMIZATION NOTE: Beautiful login page with current time on right side
Enhanced design with gradients, animations, and better UX
-->
<div class="login-container">
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape">
            <i class="fas fa-users"></i>
        </div>
        <div class="shape">
            <i class="fas fa-clock"></i>
        </div>
        <div class="shape">
            <i class="fas fa-building"></i>
        </div>
    </div>
    
    <div class="container">
        <div class="row align-items-center">
            <!-- Login Form - Left Side -->
            <div class="col-lg-7 col-md-8">
                <div class="card login-card">
                    <div class="card-body p-5">
                        <div class="text-center mb-5">
                            <i class="fas fa-building fa-4x company-logo mb-3"></i>
                            <h2 class="card-title mb-2">Welcome Back!</h2>
                            <h4 class="text-primary mb-2">TechCorp Employee System</h4>
                            <p class="text-muted">Sign in to access your employee dashboard</p>
                        </div>

                        <form method="post">
                            {% csrf_token %}
                            <div class="mb-4">
                                <label for="username" class="form-label fw-bold">
                                    <i class="fas fa-user me-2 text-primary"></i>Username
                                </label>
                                <input type="text" class="form-control form-control-lg" id="username" name="username" 
                                       placeholder="Enter your username" required>
                            </div>

                            <div class="mb-4">
                                <label for="password" class="form-label fw-bold">
                                    <i class="fas fa-lock me-2 text-primary"></i>Password
                                </label>
                                <input type="password" class="form-control form-control-lg" id="password" name="password" 
                                       placeholder="Enter your password" required>
                            </div>

                            <button type="submit" class="btn btn-primary btn-login w-100 btn-lg">
                                <i class="fas fa-sign-in-alt me-2"></i>Sign In to Dashboard
                            </button>
                        </form>

                        <div class="text-center mt-4">
                            <div class="d-flex align-items-center justify-content-center">
                                <hr class="flex-grow-1">
                                <span class="px-3 text-muted small">SUPPORT</span>
                                <hr class="flex-grow-1">
                            </div>
                            <small class="text-muted mt-2 d-block">
                                <i class="fas fa-info-circle me-1"></i>
                                Need help? Contact your administrator for login credentials
                            </small>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Current Time - Right Side -->
            <div class="col-lg-4 col-md-4 offset-lg-1">
                <div class="card time-card text-center">
                    <div class="card-body p-4">
                        <div class="mb-3">
                            <i class="fas fa-clock fa-2x text-primary mb-2"></i>
                            <h6 class="card-title text-muted mb-0">Current Time</h6>
                        </div>
                        
                        <div id="current-date" class="date-display"></div>
                        <div id="current-time" class="time-display mb-2"></div>
                        <div id="current-day" class="small text-muted"></div>
                        
                        <div class="mt-3 pt-3 border-top">
                            <small class="text-muted">
                                <i class="fas fa-map-marker-alt me-1"></i>
                                TechCorp Headquarters
                            </small>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Stats Card -->
                <div class="card time-card text-center mt-3">
                    <div class="card-body p-3">
                        <div class="row">
                            <div class="col-6">
                                <i class="fas fa-users text-primary"></i>
                                <div class="small text-muted">Employees</div>
                                <div class="fw-bold">{{ total_employees|default:"50+" }}</div>
                            </div>
                            <div class="col-6">
                                <i class="fas fa-building text-success"></i>
                                <div class="small text-muted">Departments</div>
                                <div class="fw-bold">8+</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function updateTime() {
        const now = new Date();
        
        // Format time (12-hour format with AM/PM)
        const timeOptions = {
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: true
        };
        const timeString = now.toLocaleTimeString('en-US', timeOptions);
        
        // Format date
        const dateOptions = {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        };
        const dateString = now.toLocaleDateString('en-US', dateOptions);
        
        // Get day of week
        const dayOptions = { weekday: 'long' };
        const dayString = now.toLocaleDateString('en-US', dayOptions);
        
        // Update DOM elements
        const timeElement = document.getElementById('current-time');
        const dateElement = document.getElementById('current-date');
        const dayElement = document.getElementById('current-day');
        
        if (timeElement) timeElement.textContent = timeString;
        if (dateElement) dateElement.textContent = dateString;
        if (dayElement) dayElement.textContent = dayString;
    }
    
    // Update time immediately and then every second
    document.addEventListener('DOMContentLoaded', function() {
        updateTime();
        setInterval(updateTime, 1000);
        
        // Add form validation and loading states
        const loginForm = document.querySelector('form');
        const submitBtn = document.querySelector('.btn-login');
        
        if (loginForm) {
            loginForm.addEventListener('submit', function(e) {
                // Add loading state
                if (submitBtn) {
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Signing In...';
                    submitBtn.disabled = true;
                }
            });
        }
        
        // Add input focus animations
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            input.addEventListener('blur', function() {
                if (!this.value) {
                    this.parentElement.classList.remove('focused');
                }
            });
        });
    });
</script>
{% endblock %}
